function Surface = genZstack(Surface, z)
% Surface = [5.9546    6.4644    6.9743    7.4841    7.9940    8.5038    9.0137    9.5235   10.0334   10.5432   11.0531   11.5629   11.0531    10.5432   10.0334    9.5235    9.0137    8.5038    7.9940    7.4841    5.9546    6.4644    6.9743    7.4842    7.9940    8.5039    9.0137   10.0334    9.5236   10.5433   11.0532   11.5631   11.5631   11.0532   10.5433   10.0335    9.5236    9.0138    8.5039    7.9941    7.5038    6.9940    6.4841    5.9743    5.9743    6.3285    6.8383    7.3482    7.8580    8.3679    8.8777    9.3876
%            4.4449    4.4449    4.4449    4.4449    4.4449    4.4449    4.4449    4.4449    4.4449    4.4449    4.4449    4.7460    4.7460    4.7460    4.7460    4.7460    4.7460    4.7460    4.7460    4.7460    5.0472    5.0472    5.0472    5.0472    5.0472    5.0472    5.0472    5.0472    5.0472    5.0472    5.0472    5.0472    5.3483    5.3483    5.3483    5.3483    5.3483    5.3483    5.3483    5.3483    5.3483    5.3483    5.3483    5.3483    5.6494    5.6494    5.6494    5.6494    5.6494    5.6494    5.6494    5.6494
%            2.0767    2.0767    2.0567    2.0567    2.0867    2.0867    2.0867    2.0867    2.1167    2.1467    2.1467    2.7067    2.6767    2.6767    2.6767    2.6767    2.7067    2.7267    2.6967    2.3767    2.6867    2.5767    2.7467    2.4667    2.3967    2.3667    2.3267    2.3367    2.3367    2.3067    2.3067    2.3067    2.3367    2.3367    2.3167    2.3167    2.3167    2.3167    2.3167    2.3367    2.3267    2.3267    2.3267    2.3667    2.4267    2.4467    2.4467    2.4467    2.4767    2.4967    2.5367    2.5367];
% % adds z stack to surface
zSurface = []; zSurf = []; 
% z = [-0.02, -0.01, 0, 0.01, 0.02];

% adds z stack to surface
numPoints = size(Surface, 2);
zSurface = zeros(3, numPoints*length(z));
zSurf = zeros(3, 1);

for n = 1:numPoints
    for m = 1:length(z)
        zSurf(:, 1) = Surface(:, n); % Assigns the Surface position to all locations on zSurf
        zSurf(3, 1) = zSurf(3, 1) + z(m); % modifies the z position
        zSurface(:, (n-1)*length(z) + m) = zSurf; % combines zSurf into zsurface at the correct indices
    end
end

Surface = zSurface;